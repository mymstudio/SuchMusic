<script setup lang="ts">
import { ref } from 'vue'
import SvgIcon from './SvgIcon.vue'
import Play from '../components/views/Settings/Play.vue'
import AudioFrom from './views/Settings/AudioFrom.vue'
const showModal = ref(false)
const showSearch = ref(false)
const showSearchB = ref(false)
const activeKey = ref('hear-the-wind-sing')
import { NConfigProvider } from 'naive-ui'
import type { MenuOption } from 'naive-ui'
import { useSearchStore } from '../stores/search'
import { h } from 'vue'
import { useRouter } from 'vue-router'
const searchStore = useSearchStore()
const router = useRouter()

const menuOptions: MenuOption[] = [
    {
        label: '常规设置',
        key: 'hear-the-wind-sing',
        icon() {
            return h(SvgIcon, {
                scale: 0.8, path: 'M13.7533,6.87916L16.0656,6.87916L16.0656,4.568L20.63,4.568L20.63,2.31116L16.0656,2.31116L16.0656,0L13.7533,0L13.7533,6.87916ZM20.63,11.4412L20.63,9.18432L9.18887,9.18432L9.18887,11.4412L20.63,11.4412ZM4.56439,6.87916L4.56439,9.19031L0,9.19031L0,11.4472L4.56439,11.4472L4.56439,13.7583L6.87674,13.7583L6.87674,6.88514L4.56439,6.88514L4.56439,6.87916ZM11.4411,20.6253L11.4411,18.3141L20.624,18.3141L20.624,16.0573L11.4411,16.0573L11.4411,13.7461L9.18311,13.7461L9.18311,20.6193L11.4411,20.6193L11.4411,20.6253ZM0,2.31714L0,4.57398L11.4411,4.57398L11.4411,2.31714L0,2.31714ZM0,16.0633L0,18.3201L6.87674,18.3201L6.87674,16.0633L0,16.0633Z', size: 22, style: {
                    marginTop: '2px',
                    marginRight: '2px'
                }
            })
        },


    },
    {
        label: '播放设置',
        key: 'play',
        icon() {
            return h(SvgIcon, {
                scale: 1.05, path: 'M11.1762,6.48993Q11.0642,6.47393,10.9762,6.32993Q10.8882,6.18593,10.8402,5.80193Q10.7602,5.17793,10.4322,4.88193Q10.1042,4.58593,9.41615,4.45793Q8.69615,4.31393,8.14415,3.87393Q7.59215,3.43393,7.22415,3.04993Q6.87215,2.71393,6.68015,2.80993Q6.48815,2.90593,6.48815,3.16193L6.48815,3.84993L6.48815,5.35393Q6.48815,6.24993,6.48015,7.28993Q6.47215,8.32993,6.47215,9.25793L6.47215,10.8899L6.47215,11.8019Q6.48815,12.1859,6.35215,12.6579Q6.21615,13.1299,5.84015,13.5459Q5.46415,13.9619,4.84015,14.2579Q4.21615,14.5539,3.28815,14.6019Q2.34415,14.6499,1.58415,14.2659Q0.824151,13.8819,0.408151,13.2979Q-0.00784945,12.7139,0.000150919,12.0179Q0.00815129,11.3219,0.600151,10.7139Q1.19215,10.1059,1.88015,9.86593Q2.56815,9.62593,3.20815,9.60193Q3.84815,9.57793,4.35215,9.68993Q4.85615,9.80193,5.09615,9.89793L5.09615,5.36993Q5.09615,3.48193,5.11215,1.11393Q5.11215,0.649931,5.35215,0.353931Q5.59215,0.057931,5.99215,0.00993103Q6.32815,-0.038069,6.54415,0.145931Q6.76015,0.329931,6.98415,0.657931Q7.20815,0.985931,7.53615,1.40193Q7.86415,1.81793,8.42415,2.21793Q8.90415,2.58593,9.26415,2.74593Q9.62415,2.90593,9.93615,3.04193Q10.2481,3.17793,10.5522,3.36993Q10.8562,3.56193,11.2242,3.99393Q11.5922,4.40993,11.6722,4.85793Q11.7522,5.30593,11.6802,5.67393Q11.6082,6.04193,11.4482,6.27393Q11.2881,6.50593,11.1762,6.48993Z', size: 22, style: {
                    marginTop: '8px',
                    marginLeft: '3px'
                }
            })
        },
    },
    {
        label: '歌词设置',
        key: 'a-wild-sheep-chase',
        icon() {
            return h(SvgIcon, {
                scale: 0.7, path: 'M7.14667,2.26583C6.77822,2.26619,6.47935,1.96761,6.47935,1.59916C6.47935,1.23072,6.77822,0.932138,7.14667,0.932498L15.1467,0.932498C16.2512,0.932498,17.1467,1.82793,17.1467,2.9325L17.1467,15.5392C17.1467,16.6437,16.2512,17.5392,15.1467,17.5392C14.7785,17.5392,14.48,17.2407,14.48,16.8725C14.48,16.5043,14.7785,16.2058,15.1467,16.2058C15.5149,16.2058,15.8133,15.9074,15.8133,15.5392L15.8133,2.9325C15.8133,2.56431,15.5149,2.26583,15.1467,2.26583L7.14667,2.26583ZM8.17867,6.6485C7.81048,6.6485,7.512,6.35002,7.512,5.98183C7.512,5.61364,7.81048,5.31516,8.17867,5.31516L13.6013,5.31516C13.9695,5.31516,14.268,5.61364,14.268,5.98183C14.268,6.35002,13.9695,6.6485,13.6013,6.6485L8.17867,6.6485ZM8.84533,7.98183L12.8453,7.98183C13.5817,7.98183,14.1787,8.57878,14.1787,9.31516L14.1787,11.9818C14.1787,12.7182,13.5817,13.3152,12.8453,13.3152L8.84533,13.3152C8.10895,13.3152,7.512,12.7182,7.512,11.9818L7.512,9.31516C7.512,8.57878,8.10895,7.98183,8.84533,7.98183ZM8.84533,9.31516L8.84533,11.9818L12.8453,11.9818L12.8453,9.31516L8.84533,9.31516ZM3.152,7.01383L0.666667,7.01383C0.298477,7.01383,0,6.71535,0,6.34716C0,5.97897,0.298477,5.6805,0.666667,5.6805L3.81867,5.6805C4.18686,5.6805,4.48533,5.97897,4.48533,6.34716L4.48533,15.0112L5.50133,14.1992C5.78969,13.9781,6.20197,14.0287,6.42837,14.3128C6.65478,14.597,6.61192,15.0102,6.332,15.2418L4.23467,16.9165C4.03463,17.0762,3.76079,17.1073,3.53004,16.9965C3.29928,16.8857,3.15237,16.6525,3.152,16.3965L3.152,7.0125L3.152,7.01383ZM1.66667,1.2925C1.3213,1.16437,1.1452,0.780525,1.27333,0.435163C1.40146,0.0898013,1.7853,-0.0862994,2.13067,0.0418305C2.74267,0.268497,3.29867,0.595164,3.79733,1.01916C4.31067,1.4565,4.712,1.98983,4.996,2.61383C5.15849,2.95073,5.01205,3.35536,4.67159,3.51025C4.33113,3.66515,3.92989,3.50968,3.78267,3.16583C3.58731,2.73,3.29715,2.34326,2.93333,2.03383C2.55817,1.7139,2.12933,1.46292,1.66667,1.2925Z', size: 32, style: {
                    marginTop: '6px',
                    marginRight: '2px'
                }
            })
        },
    },
    {
        label: '本地与下载',
        key: 'dance-dance-dance',
        icon() {
            return h(SvgIcon, {
                scale: 1, path: 'M14.445,0L1.31394,0C0.589316,0.00175966,0.00220153,0.588516,1.51465e-8,1.31314L1.51465e-8,3.06407C0.00219912,3.78839,0.588827,4.37501,1.31314,4.37721L14.445,4.37721C15.1693,4.37501,15.7559,3.78838,15.7581,3.06407L15.7581,1.31314C15.7559,0.588828,15.1693,0.00219932,14.445,0ZM2.56921,3.30199C1.95437,3.30199,1.45593,2.80355,1.45593,2.18871C1.45593,1.57386,1.95437,1.07543,2.56921,1.07543C3.18406,1.07543,3.68249,1.57386,3.68249,2.18871C3.68249,2.80324,3.18455,3.30154,2.57001,3.30199L2.56921,3.30199ZM14.445,5.56659L1.31394,5.56659C0.589348,5.56824,0.00220191,6.15494,1.51465e-8,6.87954L1.51465e-8,8.63046C0.00219929,9.35478,0.588827,9.94141,1.31314,9.94361L14.445,9.94361C15.1693,9.94141,15.7559,9.35478,15.7581,8.63046L15.7581,6.87954C15.7559,6.15525,15.1693,5.56868,14.445,5.56659ZM2.56921,8.86838C1.95437,8.86838,1.45593,8.36995,1.45593,7.7551C1.45593,7.14025,1.95437,6.64182,2.56921,6.64182C3.18406,6.64182,3.68249,7.14025,3.68249,7.7551C3.68249,8.36963,3.18455,8.86794,2.57001,8.86838L2.56921,8.86838ZM14.445,11.133L1.31394,11.133C0.58927,11.1346,0.00209196,11.7215,1.51465e-8,12.4461L1.51465e-8,14.1969C0.00219999,14.9212,0.588828,15.5078,1.31314,15.51L14.445,15.51C15.1693,15.5078,15.7559,14.9212,15.7581,14.1969L15.7581,12.4461C15.756,11.7218,15.1693,11.1351,14.445,11.133ZM2.56921,14.4348C1.9545,14.4343,1.45648,13.9357,1.45673,13.321C1.45692,12.7064,1.9553,12.2082,2.57001,12.2082C3.18491,12.2084,3.68329,12.7067,3.68329,13.3213C3.6834,13.9362,3.18494,14.4348,2.57001,14.4348L2.56921,14.4348Z', size: 24, style: {
                    marginTop: '9px',
                    marginLeft: '1.5px'
                }
            })
        },
    },
    {
        label: '音源设置',
        key: 'audiofrom',
        icon() {
            return h(SvgIcon, {
                scale: 0.82, path: 'M20.4781,3.98924L19.5473,3.98924C19.5473,3.85627,19.4143,3.45734,19.2813,3.19139L19.8132,2.52652C19.9462,2.39354,19.9462,1.99462,19.8132,1.86165L19.1484,1.19677C19.0154,1.0638,18.6165,1.0638,18.4835,1.19677L17.9516,1.86165C17.6856,1.72867,17.2867,1.5957,17.1537,1.46272L17.1537,0.531899C17.1537,0.265949,16.8878,0,16.6218,0L15.558,0C15.2921,0,15.0261,0.265949,15.0261,0.531899L15.0261,1.46272C14.8932,1.46272,14.4942,1.5957,14.2283,1.86165L13.6964,1.19677C13.5634,1.0638,13.1645,1.0638,13.0315,1.19677L12.2337,1.86165C12.1007,2.1276,12.1007,2.39354,12.2337,2.52652L12.8986,3.05842C12.7656,3.32437,12.6326,3.72329,12.6326,3.98924L11.7018,3.98924C11.4358,3.98924,11.1699,4.25519,11.1699,4.52114L11.1699,5.58494C11.1699,5.85089,11.3029,6.11684,11.7018,6.11684L12.6326,6.11684C12.6326,6.24981,12.7656,6.64874,12.8985,6.91468L12.2337,7.44658C12.1007,7.57956,12.1007,7.97848,12.2337,8.11146L12.8985,8.77633C13.0315,8.90931,13.4304,8.90931,13.5634,8.77633L14.0953,8.11146C14.3613,8.24443,14.7602,8.37741,14.8932,8.51038L14.8932,9.44121C14.8932,9.70715,15.1591,9.9731,15.4251,9.9731L16.4889,9.9731C16.7548,9.9731,17.0208,9.70715,17.0208,9.44121L17.0208,8.64336C17.1537,8.64336,17.5527,8.51038,17.8186,8.24443L18.3505,8.90931C18.4835,9.04228,18.8824,9.04228,19.0154,8.90931L19.6803,8.24443C19.8132,8.11146,19.8132,7.71253,19.6803,7.57956L19.0154,7.04766C19.1484,6.78171,19.2813,6.38279,19.2813,6.24981L20.2122,6.24981C20.4781,6.24981,20.7441,5.98386,20.7441,5.71791L20.7441,4.52114C20.877,4.25519,20.7441,3.98924,20.4781,3.98924ZM16.0899,7.18064C14.8932,7.18064,13.9623,6.24981,13.9623,5.05304C13.9623,3.85627,14.8932,2.92544,16.0899,2.92544C17.2867,2.92544,18.2175,3.85627,18.2175,5.05304C18.2175,6.24981,17.2867,7.18064,16.0899,7.18064ZM8.37741,11.1699L2.79247,11.1699C1.19677,11.1699,5.94443e-8,12.3666,5.94443e-8,13.9623L5.94443e-8,18.0846C5.94443e-8,19.6803,1.19677,20.877,2.79247,20.877L6.91468,20.877C8.51038,20.877,9.70715,19.6803,9.70715,18.0846L9.70715,12.6326C9.70715,11.8348,9.04228,11.1699,8.37741,11.1699ZM8.11146,18.0846C8.11146,18.8824,7.57956,19.4143,6.78171,19.4143L2.79247,19.4143C1.99462,19.4143,1.46272,18.8824,1.46272,18.0846L1.46272,14.0953C1.46272,13.2975,1.99462,12.7656,2.79247,12.7656L8.11146,12.7656L8.11146,18.0846ZM18.0846,11.1699L12.4996,11.1699C11.7018,11.1699,11.1699,11.8348,11.1699,12.6326L11.1699,18.2175C11.1699,19.8132,12.3666,21.01,13.9623,21.01L18.0846,21.01C19.6803,21.01,20.877,19.8132,20.877,18.2175L20.877,14.0953C20.877,12.4996,19.6803,11.1699,18.0846,11.1699ZM19.2813,18.0846C19.2813,18.8824,18.7494,19.4143,17.9516,19.4143L13.9623,19.4143C13.1645,19.4143,12.6326,18.8824,12.6326,18.0846L12.6326,12.7656L17.9516,12.7656C18.7494,12.7656,19.2813,13.2975,19.2813,14.0953L19.2813,18.0846ZM6.91468,9.90739e-9L2.79247,9.90739e-9C1.19677,9.90739e-9,0,1.19677,0,2.79247L0,6.91468C0,8.51038,1.19677,9.70715,2.79247,9.70715L8.37741,9.70715C9.17526,9.70715,9.84013,9.04228,9.84013,8.24443L9.84013,2.79247C9.70715,1.32975,8.51038,9.90739e-9,6.91468,9.90739e-9ZM8.11146,8.37741L2.65949,8.37741C1.86165,8.37741,1.32975,7.71253,1.32975,7.04766L1.32975,2.92544C1.32975,2.1276,1.99462,1.5957,2.65949,1.5957L6.78171,1.5957C7.57956,1.5957,8.11146,2.26057,8.11146,2.92544L8.11146,8.37741Z', size: 22, style: {
                    marginTop: '3px',
                    marginRight: '4px'
                }
            })
        },
    },
    {
        label: '关于',
        key: 'Z',
        icon() {
            return h(SvgIcon, {
                scale: 0.9, path: 'M10,0C15.5229,0,20,4.47714,20,10C20,15.5229,15.5229,20,10,20C4.47714,20,0,15.5229,0,10C0,4.47714,4.47714,0,10,0ZM10,1.90476C5.52905,1.90476,1.90476,5.52905,1.90476,10C1.90476,14.471,5.52905,18.0952,10,18.0952C14.471,18.0952,18.0952,14.471,18.0952,10C18.0952,5.52905,14.471,1.90476,10,1.90476ZM10.4762,8.09524C10.7392,8.09524,10.9524,8.30844,10.9524,8.57143L10.9524,15.2381C10.9524,15.5011,10.7392,15.7143,10.4762,15.7143L9.52381,15.7143C9.26082,15.7143,9.04762,15.5011,9.04762,15.2381L9.04762,8.57143C9.04762,8.30844,9.26081,8.09524,9.52381,8.09524L10.4762,8.09524ZM10.4762,4.28571C10.7392,4.28571,10.9524,4.49891,10.9524,4.7619L10.9524,5.71429C10.9524,5.97728,10.7392,6.19048,10.4762,6.19048L9.52381,6.19048C9.26082,6.19048,9.04762,5.97728,9.04762,5.71429L9.04762,4.7619C9.04762,4.49891,9.26081,4.28571,9.52381,4.28571L10.4762,4.28571Z', size: 22, style: {
                    marginTop: '3px',
                    marginRight: '4px'
                }
            })
        },
    }
]
const toggleSearch = () => {
    if (showSearchB.value) {
        setTimeout(() => {
            showSearchB.value = false
        }, 300)
    } else {
        showSearchB.value = true
        console.log('show search')
    }
    setTimeout(() => {
        showSearch.value = !showSearch.value
    }, 50)

}

const currentSettingTab = ref('play') // 新增变量，控制当前显示的设置页

// 菜单选项中新增 key 对应的组件映射
const settingComponents = {
    'play': Play,
    'audiofrom': AudioFrom, // 将菜单 key 映射到对应组件
}

// 更新 activeKey 同时切换 currentSettingTab
const handleMenuSelect = (key: string) => {
    console.log('currentSettingTab:', key)
    activeKey.value = key
    currentSettingTab.value = key
}


const themeOverrides = ref({
    common: {
        borderRadius: '10px',
        primaryColor: '#3080FF',
    },
    Menu: {
        itemColorActive: '#3080FF',
        itemTextColorActive: '#FFFFFF',
        itemIconColorActive: '#FFFFFF',
        itemIconColorActiveHover: '#FFFFFF',
        itemTextColorActiveHover: '#FFFFFF',
        itemColorActiveHover: 'rgba(48, 128, 255, 0.56)'
    },
})

const searchQuery = ref('')
const active = ref(false)
// 更新输入内容
const updateSearchQuery = (value: any) => {
    searchQuery.value = value
}

// 按下回车时执行搜索
const handleSearch = () => {
    if (searchQuery.value.trim()) {
        router.push({ path: '/search', query: { keywords: searchQuery.value } })

        // 示例：输出搜索内容
        console.log("开始搜索:", searchQuery.value)
        searchStore.query = searchQuery.value

        // 示例：触发其他组件的搜索动作（如 SearchResults.vue）
        // emit('search', searchQuery.value)
    }
}

</script>

<template>

    <div class="header">
        <div style="  z-index: 9999; margin: 6px 7px; display: flex; gap: 6px;">
            <n-button @click="$router.back()" :size="showSearchB ? 'large' : 'medium'" circle style="transition: all 0.15s ease; z-index: -1;"
                tertiary>
                <template #icon>
                    <div style="transform: scale(0.9);">
                        <svg t="1747749364994" class="icon" viewBox="0 0 1024 1024" version="1.1"
                            xmlns="http://www.w3.org/2000/svg" p-id="2637" width="32" height="32">
                            <path d="M511.1 511.1l1.8 1.8-1.8-1.8zM513.1 510.9l-2.2 2.2c0.8-0.7 1.5-1.4 2.2-2.2z"
                                fill="" p-id="2638"></path>
                            <path
                                d="M375.9 512.1c0 8.3 3.1 15.8 8.3 21.5l2.2 2.2 21.5 21.5L593.6 743c12.4 12.4 32.8 12.4 45.3 0 12.4-12.4 12.4-32.8 0-45.3L453.1 512l185.7-185.8c12.4-12.4 12.4-32.8 0-45.3-12.4-12.4-32.8-12.4-45.2 0.1L407.9 466.7l-21.8 21.8-1.8 1.8c-5.3 5.7-8.5 13.4-8.4 21.8z"
                                fill="" p-id="2639"></path>
                        </svg>
                    </div>
                </template>

            </n-button>
            <n-button :size="showSearchB ? 'large' : 'medium'" circle style="transition: all 0.15s ease; z-index: -1;"
                tertiary @click="toggleSearch">
                <template #icon>
                    <div style="transform: scale(0.9);">
                        <svg t="1747750277748" class="icon" viewBox="0 0 1024 1024" version="1.1"
                            xmlns="http://www.w3.org/2000/svg" p-id="3628" width="32" height="32">
                            <path d="M511.1 511.1l1.8 1.8-1.8-1.8zM513.1 510.9l-2.2 2.2c0.8-0.7 1.5-1.4 2.2-2.2z"
                                fill="" p-id="3629"></path>
                            <path
                                d="M639.7 490.3l-1.8-1.8-21.8-21.8L430.4 281c-12.4-12.5-32.8-12.5-45.2-0.1-12.4 12.5-12.4 32.9 0 45.3L570.9 512 385.1 697.7c-12.4 12.5-12.4 32.9 0 45.3 12.5 12.4 32.9 12.4 45.3 0l185.7-185.7 21.5-21.5 2.2-2.2c5.2-5.7 8.3-13.2 8.3-21.5 0.1-8.4-3.1-16.1-8.4-21.8z"
                                fill="" p-id="3630"></path>
                        </svg>
                    </div>
                </template>
            </n-button>
        </div>
        <div key="search-box"
            :style="{ transform: !showSearchB ? 'translateX(0) ' : 'translateX(0%) translateY(0px) scale(1)' }"
            v-show="showSearchB" class="search-container">
            <n-input round :size="showSearchB ? 'large' : 'medium'"
                :style="{ fontSize: showSearchB ? '15px' : '14px', zIndex: showModal ? -99999 : 0 }"
                style="width: 100%; transition: all 0.2s ease; " @focus="toggleSearch" @blur="toggleSearch" type="text"
                placeholder="若我不曾见过太阳 - 知更鸟" @keyup.enter="handleSearch" v-model:value="searchQuery">
                <template #prefix>
                    <div
                        style="height: 36px; width: 20px; display: flex; justify-content: center; align-items: center; transform: scale(0.7);">
                        <svg t="1747750531236" class="icon" viewBox="0 0 1024 1024" version="1.1"
                            xmlns="http://www.w3.org/2000/svg" p-id="4938" width="32" height="32">
                            <path
                                d="M714.2309 207.350669a358.255878 358.255878 0 0 0-506.857192 0A358.255878 358.255878 0 0 0 460.802304 819.163138a357.55191 357.55191 0 0 0 253.428596-104.955277A357.039933 357.039933 0 0 0 819.186177 460.779265a357.039933 357.039933 0 0 0-104.955277-253.428596zM0.023039 460.779265a460.779265 460.779265 0 1 1 921.55853 0A460.779265 460.779265 0 0 1 0.023039 460.779265z m1006.22672 545.575449a59.837307 59.837307 0 0 1-84.860182 0l-84.732187-84.860181a59.901304 59.901304 0 1 1 84.860182-84.860182l84.860181 84.732188a60.029299 60.029299 0 0 1-0.127994 84.988175z"
                                fill="#8a8a8a" p-id="4939"></path>
                        </svg>
                    </div>

                </template>
            </n-input>
        </div>



        <n-button circle @click="showModal = true" :size="showSearchB ? 'large' : 'medium'"
            style="transition: all 0.15s ease;margin-left: 8px;" tertiary>
            <template #icon>
                <div style="transform: scale(0.55);">
                    <svg t="1748269048910" class="icon" viewBox="0 0 1084 1024" version="1.1"
                        xmlns="http://www.w3.org/2000/svg" p-id="2647" width="32" height="32">
                        <path
                            d="M1072.147851 406.226367c-6.331285-33.456782-26.762037-55.073399-52.047135-55.073399-0.323417 0-0.651455 0.003081-0.830105 0.009241l-4.655674 0c-73.124722 0-132.618162-59.491899-132.618162-132.618162 0-23.731152 11.447443-50.336101 11.546009-50.565574 13.104573-29.498767 3.023185-65.672257-23.427755-84.127081l-1.601687-1.127342-134.400039-74.661726-1.700252-0.745401c-8.753836-3.805547-18.334698-5.735272-28.479231-5.735272-20.789593 0-41.235746 8.344174-54.683758 22.306575-14.741683 15.216028-65.622973 58.649474-104.721083 58.649474-39.450789 0-90.633935-44.286652-105.438762-59.784516-13.518857-14.247316-34.128258-22.753199-55.127302-22.753199-9.945862 0-19.354234 1.861961-27.958682 5.531982l-1.746455 0.74078-139.141957 76.431283-1.643269 1.139662c-26.537186 18.437884-36.675557 54.579032-23.584845 84.062398 0.115506 0.264895 11.579891 26.725075 11.579891 50.634877 0 73.126262-59.491899 132.618162-132.618162 132.618162l-4.581749 0c-0.318797-0.00616-0.636055-0.01078-0.951772-0.01078-25.260456 0-45.672728 21.618157-52.002472 55.0811-0.462025 2.453354-11.313456 60.622322-11.313456 106.117939 0 45.494078 10.85143 103.659965 11.314996 106.119479 6.334365 33.458322 26.758957 55.076479 52.036353 55.076479 0.320337 0 0.651455-0.00616 0.842426-0.012321l4.655674 0c73.126262 0 132.618162 59.491899 132.618162 132.616622 0 23.760413-11.444363 50.333021-11.546009 50.565574-13.093793 29.474125-3.041666 65.646075 23.395414 84.151722l1.569346 1.093459 131.838879 73.726895 1.675611 0.7377c8.750757 3.84251 18.305437 5.790715 28.397607 5.790715 21.082208 0 41.676209-8.706094 55.0888-23.290689 18.724339-20.347588 69.527086-62.362616 107.04815-62.362616 40.625872 0 92.72537 47.100385 107.759669 63.583903 13.441852 14.831008 34.176001 23.689571 55.470741 23.695731l0.00616 0c9.895039 0 19.27877-1.883523 27.893999-5.598205l1.711034-0.73924 136.659342-75.531873 1.617088-1.128882c26.492523-18.456365 36.601633-54.600594 23.538642-84.016195-0.115506-0.267974-11.595291-27.082374-11.595291-50.67646 0-73.124722 59.49344-132.616622 132.618162-132.616622l4.517066-0.00154c0.300316 0.00616 0.599092 0.009241 0.899409 0.009241 25.331299-0.00154 45.785153-21.619697 52.107197-55.054918 0.112426-0.589852 11.325776-59.507301 11.325776-106.14104C1083.464388 466.640776 1072.609877 408.67356 1072.147851 406.226367zM377.486862 945.656142l-115.32764-64.487932c5.082277-13.052211 15.437801-43.51815 15.437801-75.017486 0-109.382917-84.176364-199.816642-192.587488-208.134635-2.647404-15.427021-8.873963-54.967133-8.873963-85.667166 0-30.65691 6.223479-70.232445 8.869343-85.671786 108.415744-8.311832 192.592108-98.745557 192.592108-208.134635 0-31.416171-10.300081-61.797405-15.371577-74.854236l122.721583-67.40331c0.003081 0 0.00462 0.00154 0.007701 0.00154 4.423121 4.518606 22.121764 22.080182 46.558275 39.493911 39.929754 28.46229 77.952885 42.894416 113.014434 42.894416 34.716571 0 72.437845-14.151831 112.115025-42.06431 24.282503-17.07953 41.896442-34.302288 46.308782-38.74543 0.009241-0.00154 0.018481-0.00462 0.026182-0.00616l118.301542 65.726159c-5.077657 13.055291-15.416239 43.499669-15.416239 74.958962 0 109.389077 84.174824 199.822802 192.590568 208.134635 2.645865 15.462442 8.872423 55.107281 8.872423 85.671786 0 30.687711-6.223479 70.241685-8.869343 85.673326C890.042174 606.334084 805.86427 696.767809 805.86427 806.158426c0 31.450053 10.317022 61.851309 15.393138 74.903519l-119.783103 66.198965c-5.168521-5.490399-22.603811-23.363073-46.740005-41.288109-40.701336-30.224145-79.662378-45.549521-115.800446-45.549521-35.79155 0-74.458435 15.038919-114.927219 44.694774C400.22004 922.554885 382.666163 940.255068 377.486862 945.656142zM731.271848 511.646647c0-105.803762-86.081448-191.88059-191.888289-191.88059-105.803762 0-191.88059 86.076827-191.88059 191.88059 0 105.803762 86.076827 191.882129 191.88059 191.882129C645.19194 703.528777 731.271848 617.450409 731.271848 511.646647zM539.383558 395.903184c63.825696 0 115.751164 51.922387 115.751164 115.743463 0 63.825696-51.925468 115.751164-115.751164 115.751164-63.821076 0-115.743463-51.925468-115.743463-115.751164C423.640095 447.824031 475.562482 395.903184 539.383558 395.903184z"
                            fill="#2c2c2c" p-id="2648"></path>
                    </svg>
                </div>
            </template>
        </n-button>

        <n-modal style="z-index: 99999999999999999999999999999999999999;" transform-origin="center"
            v-model:show="showModal">
            <n-config-provider :theme-overrides="themeOverrides">
                <div style="
            min-width: 860px; 
            max-width: 80%; 
            max-height: 85vh; 
            font-family: HarmonyOS_Sans_SC, sans-serif;
            min-height: 78vh;
            display: flex;
            background-color: #EFEFEF;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
            margin: auto
            ">

                    <div style="
                background-color: rgba(255, 255, 255, 0.42);
                backdrop-filter: blur(10px);
                flex-direction: row;
                 display: flex;
                 justify-content: start;
                 align-items: start;
                 width: 260px;
                 max-height: 85vh; 
                 min-height: 78vh;
                 border-radius: 10px 0px 0px 10px;
                ">

                        <div style="padding-right: 8px;">
                            <h2
                                style=" font-family: HarmonyOS_Sans_SC_Bold, sans-serif; margin: 24px; font-size: 23px; margin-bottom: 0px;">
                                设置</h2>
                            <span
                                style="transform: translateY(-3px); margin-top: 0px; color: #999999; margin-left: 24px; font-size: 15px; margin-bottom: 2px;">个性化及全局设置</span>
                            <n-menu @update:value="handleMenuSelect" v-model:value="activeKey" mode="vertical" :options="menuOptions" responsive style="
        margin-top: 2px;
        width: 250px;
        margin-left: 5px;
        " />
                        </div>


                    </div>

                    <div style="width: 80%; padding: 12px 24px; padding-bottom: 0px; ">

                        <component :is="settingComponents[currentSettingTab]" />

                    </div>

                </div>
            </n-config-provider>
        </n-modal>






    </div>

    <div @click="toggleSearch" style="
        
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.42);
        z-index: -1;
        display: flex;
        justify-content: center;
        transition: all 0.3s ease;
        " :style="{
            display: showSearchB ? 'flex' : 'none',
            opacity: showSearch ? 1 : 0,
            backdropFilter: showSearch ? 'blur(0px)' : 'blur(0px)'
        }"> </div>



</template>


<style scoped>
.header {
    position: relative;
    top: 25%;
    z-index: 9999;
    height: 100%;
    width: 100%;
    font-family: HarmonyOS_Sans_SC, sans-serif;
    display: flex;
    justify-content: start;
    align-items: center;
}


.search-container {
    position: relative;
    display: flex !important;
    top: 0%;
    left: 0%;
    transform: translate(0%, 0%);
    width: 100%;
    max-width: 300px;
    opacity: 1;
    transition: all 0.3s ease;


}
</style>